/*! blendui v0.0.6 - 2015-01-11 - http://clouda.com */
!function(){var a,b,c;!function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("src/almond",function(){}),c("src/common/lib/lang",["require"],function(){var a={};return a.inherits=function(a,b){var c=function(){};c.prototype=b.prototype;var d=a.prototype,e=a.prototype=new c;for(var f in d)e[f]=d[f];return a.prototype.constructor=a,a.superClass=b.prototype,a},a.clone=function(a){if(!a||"object"!=typeof a)return a;var b=a;if(u.isArray(a))b=u.clone(a);else if("[object Object]"==={}.toString.call(a)&&"isPrototypeOf"in a){b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=lib.deepClone(a[c]))}return b},a.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&"undefined"!=typeof b[c]&&(a[c]=b[c]);return a},a}),c("src/common/lib/string",["require"],function(){var a={};return a.toPascal=function(b){return b?b.charAt(0).toUpperCase()+a.toCamel(b.slice(1)):""},a.toCamel=function(a){return a?a.replace(/-([a-z])/g,function(a){return a.toUpperCase()}):""},a}),c("src/common/lib",["require","./lib/lang","./lib/string"],function(a){var b={},c=a("./lib/lang"),d=a("./lib/string"),e=8785925;return b.getUniqueID=function(a){return a=a||"BlendUI",a+e++},b.noop=function(){},b.offloadFn=function(a){setTimeout(a||b.noop,0)},Array.prototype.contains=function(a){for(var b in this)if(this[b]==a)return!0;return!1},c.extend(b,c),c.extend(b,d),b}),c("src/hybrid/api/config",["require"],function(){var a={ALIGN_PARENT_LEFT:9,ALIGN_PARENT_TOP:10,ALIGN_PARENT_RIGHT:11,ALIGN_PARENT_BOTTOM:12,CENTER_IN_PARENT:13,CENTER_HORIZONTAL:14,CENTER_VERTICAL:15,IOS:/iP(ad|hone|od)/i.test(navigator.userAgent),DEVICE_PR:/iP(ad|hone|od)/.test(navigator.userAgent)?1:window.devicePixelRatio||2};return a}),c("src/hybrid/api/util",["require","./config"],function(a){var b=a("./config"),c=b.DEVICE_PR,d={};return d.getBasePath=function(a){var b=document.createElement("a");return b.href=a,b.href},d.stringifyFilter=function(a,b){return"function"==typeof b?b.toString():b},d.filterPositionOption=function(a,b,d){var e=["left","top","width","height","right","bottom"],f=d||{};for(var g in a)void 0===a[g]||b&&b.indexOf(g)>=0||(f[g]=e.indexOf(g)>=0?a[g]*c:a[g]);return f},d.apiFn=function(a,b){try{var c,d,e=window.nuwa_core||window.nuwa_runtime,f=window.nuwa_widget||window.lc_bridge;return f&&(c=f[a])?e=f:c=e[a],d=c.apply(e,b),"true"===d?d=!0:"false"===d&&(d=!1),d}catch(g){window.console.log("BlendUI_Api_Error:"+a+"======"+c),window.console.log(g)}},d}),c("src/hybrid/api/event",["require"],function(){var a={},b=["layerCreateSuccess","layerLoadFinish","layerPullDown","layerPoped","sliderTap","sliderSlide","menuPressed","layerGoBack","backPressedBeforeExit","toolbarMenuSelected","softKeyboardShow","softKeyboardHide","showAlert","showPrompt","showConfirm","cascadingMenuSelected"],c={},d=function(a,b){return b&&b.indexOf&&b.indexOf("function")>=0?new Function("return "+b)():b};return a.on=function(a,e,f,g,h){var i=this;if(f=f||this.getCurrentId&&this.getCurrentId()||"empty",g=g||this,c[a]){for(var j=0,k=c[a].listener,l=k.length;l>j&&(k[j].id!==f||k[j].callback!==e||k[j].context!==g);j++);j===l&&c[a].listener.push({id:f,context:g,callback:e}),c[a].listened||(document.addEventListener(a,c[a].callback,!1),c[a].listened=!0)}else c[a]={},c[a].listener=[],c[a].callback=b.indexOf(a)<0?function(b){var e,f=JSON.parse(decodeURIComponent(b.data),d),g=c[a].listener;b.origin=b.sender||f.origin,b.data=f.data,b.detail=b.origin,b.reciever=b.target=f.target,e=function(a){i.fire(f.callEvent,b.origin,a)};for(var j=0,k=g.length;k>j;j++)f.callEvent&&(b.callback=e),g[j].callback.call(g[j].context,b,g[j].id);h&&i.off(a)}:function(b){for(var d=c[a].listener,e=0,f=d.length;f>e;e++)d[e].id===b.origin&&(b.detail=b.origin,d[e].callback.call(d[e].context,b,d[e].id));h&&i.off(a)},this.on(a,e,f,g)},a.off=function(a,b,d,e){if(d=d||this.getCurrentId&&this.getCurrentId()||"empty",e=e||this,c[a])if(b){for(var f=0,g=c[a].listener,h="all"===b,i=g.length;i>f;f++)if(g[f].id===d&&g[f].context===e&&(h||g[f].callback===b)){g.splice&&g.splice(f,1);break}0===g.length&&c[a].listened&&(document.removeEventListener(a,c[a].callback),c[a].listened=!1)}else document.removeEventListener(a,c[a].callback),c[a].listened=!1,c[a].listener=[];else window.console&&window.console.log("无此事件绑定")},a.once=function(a,b,c,d){this.on(a,b,c,d,"isonce")},a}),c("src/hybrid/api/layer",["require","./event","./util"],function(a){var b=a("./event"),c=a("./util"),d={},e="0",f=c.getBasePath,g=c.stringifyFilter,h=c.filterPositionOption,i=c.apiFn;return d.prepare=function(a,b){var c=h(b);return c.url&&(c.url=f(c.url)),c.sliderLayer&&(c.width=(c.width||1.5*window.innerWidth)+""),i("prepareLayer",[a,JSON.stringify(c)]),a},d.resume=function(a,b){if(!d.isActive(a)){var c={fx:"slide",reverse:!1,duration:300,cover:!1},e={slow:500,normal:300,quick:100};c=h(b,!1,c),e[c.duration]&&(c.duration=e[c.duration]),i("resumeLayer",[a,JSON.stringify(c)]),setTimeout(function(){d.canGoBack(a)&&d.clearHistory(a)},500),d.fire("in",!1,a)}},d.back=function(a){a=a||"",i("backToPreviousLayer",[a])},d.hideSubLayer=function(a){a=a||"",i("hideSubLayer",[a])},d.reload=function(a,b){return(1===arguments.length||0===arguments.length)&&(b=a,a=d.getCurrentId()),b?(b=f(b),i("layerLoadUrl",[a,b])):(b=d.getCurrentUrl(),d.replaceUrl(a,b)),a},d.replaceUrl=function(a,b){return d.fire("replace",a,b),a},d.destroy=function(a){return a=a||d.getCurrentId(),i("destroyLayer",[a]),a},d.setPullRefresh=function(a,b,c){a=a||d.getCurrentId(),c=JSON.stringify(c),i("layerSetPullRefresh",[a,b,c])},d.stopPullRefresh=function(a){return a=a||d.getCurrentId(),i("layerStopRefresh",[a]),a},d.isAvailable=function(){return i("isLayerAvailable",arguments)},d.getCurrentId=function(){return i("currentLayerId",arguments)},d.getCurrentUrl=function(){return i("currentLayerUrl",arguments)},d.stopLoading=function(a){return a=a||d.getCurrentId(),i("layerStopLoading",[a])},d.on=b.on,d.once=b.once,d.off=b.off,d.fire=function(a,b,c,f){b?"top"===b&&(b=e):b="";var h=d.getCurrentId(),j={};if(j.data=c||"",j.target=b,j.origin=h,f){j.callEvent="call_"+h+"_"+1*new Date;var k=function(a){f(a.data),d.off(j.callEvent)};d.on(j.callEvent,k)}i("layerPostMessage",[h,b,a,encodeURIComponent(JSON.stringify(j,g))])},d.postMessage=function(a,b,c){d.fire("message",b,a,c)},d.getOriginalUrl=function(a){return a=a||d.getCurrentId(),i("layerGetOriginalUrl",[a])},d.getUrl=function(a){return a=a||d.getCurrentId(),i("layerGetUrl",[a])},d.canGoBack=function(a){return a=a||d.getCurrentId(),i("layerCanGoBack",[a])},d.canGoBackOrForward=function(a,b){return b=b||d.getCurrentId(),i("layerCanGoBackOrForward",[b,a||1])},d.isActive=function(a){return a=a||d.getCurrentId(),i("isLayerActive",[a])},d.clearHistory=function(a){return a=a||d.getCurrentId(),i("layerClearHistory",[a])},d.showSlider=function(a){return a=a||d.getCurrentId(),i("showSlider",[a])},d.hideSlider=function(a){return a=a||d.getCurrentId(),i("hideSlider",[a])},d.setLayout=function(a,b){var c=h(b);return i("layerSetLayout",[a,JSON.stringify(c)])},d}),c("src/hybrid/api/dialog",["require","./util","./layer","./event"],function(a){var b=a("./util"),c=a("./layer"),d=a("./event"),e=b.apiFn,f={alert:function(a,b){var f=a.title||"",g=a.msg||"",h=a.button||"确定",i=a.layerId||c.getCurrentId(),j=a.alertId||1*new Date+"";b&&d.once("showAlert",b,i),e("showAlert",[i,j,g,f,h])},prompt:function(a,b){var f=a.title||"",g=a.msg||"",h=JSON.stringify(a.buttons||["确定","取消"]),i=a.layerId||c.getCurrentId(),j=a.promptId||1*new Date+"",k=a.defaultText||"";b&&d.once("showPrompt",b,i),e("showPrompt",[i,j,g,f,h,k])},confirm:function(a,b){var f=a.title||"",g=a.msg||"",h=JSON.stringify(a.buttons||["确定","取消"]),i=a.layerId||c.getCurrentId(),j=a.promptId||1*new Date+"";b&&d.once("showConfirm",b,i),e("showConfirmDialog",[i,j,g,f,h])},toast:function(a){var b=a.msg||"",d=a.layerId||c.getCurrentId(),f=a.promptId||1*new Date+"",g=a.duration||0;e("showToast",[d,f,b,g])}};return f}),c("src/hybrid/api/core",["require","./util","./dialog"],function(a){var b,c=a("./util"),d=a("./dialog"),e=c.apiFn,f={};return f.removeSplashScreen=function(){e("removeSplashScreen",arguments)},f.exitApp=function(){e("exitApp",arguments)},f.launchApp=function(){e("launchLightApp",arguments)},f.keyboard=function(a){b||(e("addComponent",["KEYBOARD","UIBase","com.baidu.lightui.component.keyboard.KeyboardHelper",'{"left":0,"top":0,"width":1,"height":1,"fixed":false}']),b=!0);var c=a?"show":"hide";e("componentExecuteNative",["KEYBOARD",c,"{}"])},f.dialog=d,f}),c("src/hybrid/api/layerGroup",["require","./layer","./util"],function(a){var b=a("./layer"),c=a("./util"),d={},e=c.getBasePath,f=c.filterPositionOption,g=c.apiFn;return d.create=function(a,b,c){var d={id:a,infos:b};b.forEach(function(a){a.url=e(a.url)}),c.active&&(d.active=c.active);var h=f(c,["active"]);return g("addLayerGroup",[JSON.stringify(d),JSON.stringify(h)]),a},d.showLayer=function(a){return g("showLayerInGroup",arguments),a},d.addLayer=function(a,b){return g("addLayerInGroup",[a,JSON.stringify(b)]),a},d.removeLayer=function(a){return g("removeLayerInGroup",arguments),a},d.updateLayer=function(a){return g("updateLayerInGroup",arguments),a},d.toggleScroll=function(a,c){1===arguments.length&&(c=a,a=b.getCurrentId()),d.setScroll(a,c,!d.isScroll(a,c))},d.isScroll=function(a,c){return 1===arguments.length&&(c=a,a=b.getCurrentId()),g("canLayerGroupScroll",[a,c])},d.setScroll=function(a,c,d){2===arguments.length&&(d=c,c=a,a=b.getCurrentId()),setTimeout(function(){g("setCanLayerGroupScroll",[a,c,d])},100)},d.removeLayerGroup=function(){g("removeLayerGroup",arguments)},d.hideLayerGroup=function(){g("hideLayerGroup",arguments)},d.showLayerGroup=function(){g("showLayerGroup",arguments)},d.layerGroupSetLayout=function(a,b){var c=f(b);return g("layerGroupSetLayout",[a,JSON.stringify(c)])},d}),c("src/hybrid/api/component/slider",["require","../config","../event","../util"],function(a){var b=a("../config"),c=a("../event"),d=a("../util"),e={},f=b.DEVICE_PR,g=d.filterPositionOption,h=d.apiFn;return e.add=function(a,b){var c={left:0,top:0,width:window.innerWidth*f,height:window.innerHeight*f,fixed:!1};return c=g(b,!1,c),c.top+=window.pageYOffset*f,h("addComponent",[a,"UIBase","com.baidu.lightui.component.slider.Slider",JSON.stringify(c)]),e},e.addItems=function(a,b){return h("componentExecuteNative",[a,"addItems",JSON.stringify(b)]),e},e.setConfig=function(a,b){return h("componentExecuteNative",[a,"setSliderConfig",JSON.stringify(b)]),e},e.setupIndicator=function(a,c){return c.layoutRules=[b.CENTER_HORIZONTAL,b.ALIGN_PARENT_BOTTOM],c.verticalMargin=Math.round((c.verticalMargin||5)*f),c.unitSize=Math.round((c.unitSize||10)*f),c.unitSpace=Math.round((c.unitSpace||5)*f),h("componentExecuteNative",[a,"setupIndicator",JSON.stringify(c)]),e},e.next=function(a){return h("componentExecuteNative",[a,"next",""]),e},e.prev=function(a){return h("componentExecuteNative",[a,"prev",""]),e},e.slideTo=function(a,b,c){return h("componentExecuteNative",[a,"slideTo",JSON.stringify({index:b,isAnim:!!c})]),e},e.remove=function(a){h("removeComponent",[a,"UIBase"])},e.on=c.on,e.off=c.off,e}),c("src/hybrid/api/component/footbar",["require","../config","../event","../util"],function(a){var b=a("../config"),c=a("../event"),d=a("../util"),e={},f=b.DEVICE_PR,g=d.filterPositionOption,h=d.apiFn;return e.add=function(a,b){var c={left:0,top:(window.innerHeight-45)*f,width:window.innerWidth*f,height:45*f,fixed:!0};return c=g(b,!1,c),h("addComponent",[a,"UIBase","com.baidu.lightui.component.toolbar.Toolbar",JSON.stringify(c)]),e},e.setMenu=function(a,b){return h("componentExecuteNative",[a,"setMenu",JSON.stringify(b)]),e},e.updateMenu=function(a,b){return h("componentExecuteNative",[a,"updateMenu",JSON.stringify(b)]),e},e.show=function(a,b){return b=b||{},h("componentExecuteNative",[a,"show",JSON.stringify(b)]),e},e.hide=function(a,b){return b=b||{},h("componentExecuteNative",[a,"hide",JSON.stringify(b)]),e},e.remove=function(a){h("removeComponent",[a,"UIBase"])},e.on=c.on,e.off=c.off,e}),c("src/hybrid/api/component/cascadingMenu",["require","../config","../event","../util"],function(a){var b=a("../config"),c=a("../event"),d=a("../util"),e={},f=b.DEVICE_PR,g=d.filterPositionOption,h=d.apiFn;return e.add=function(a,b){var c={left:0,top:0,width:window.innerWidth*f,height:window.innerHeight/2*f,fixed:!0};return c=g(b,!1,c),h("addComponent",[a,"UIBase","com.baidu.lappgui.blend.component.cascadingMenu.CascadingMenu",JSON.stringify(c)]),e},e.setMenu=function(a,b){return h("componentExecuteNative",[a,"setMenu",JSON.stringify(b)]),e},e.show=function(a,b){return b=b||{},h("componentExecuteNative",[a,"show",JSON.stringify(b)]),e},e.setItemSelected=function(a,b){return b=b||{},h("componentExecuteNative",[a,"setItemSelected",JSON.stringify(b)]),e},e.hide=function(a,b){return b=b||{},h("componentExecuteNative",[a,"hide",JSON.stringify(b)]),e},e.remove=function(a){h("removeComponent",[a,"UIBase"])},e.on=c.on,e.off=c.off,e}),c("src/hybrid/api/component",["require","./component/slider","./component/footbar","./component/cascadingMenu"],function(a){var b={};return b.slider=a("./component/slider"),b.footbar=a("./component/footbar"),b.cascadingMenu=a("./component/cascadingMenu"),b}),c("src/hybrid/runtime",["require","./api/core","./api/layer","./api/layerGroup","./api/component"],function(a){var b={},c=a("./api/core"),d=a("./api/layer"),e=a("./api/layerGroup"),f=a("./api/component");return b.core=c,b.layer=d,b.layerGroup=e,b.component=f,b}),c("src/hybrid/blend",["require","../common/lib","./runtime"],function(a){var b=a("../common/lib"),c=a("./runtime"),d={},e={};document.addEventListener("runtimeready",function(){d.readyState=!0},!1),d.version="0.2",d.api={},d.register=function(a){if(e[a.id])throw(a.type||"")+"New Object Already Exists";e[a.id]=a},d.cancel=function(a){delete e[a.id]},d.get=function(a){return e[a]},d.ready=function(a){var b,c=function(){b&&clearTimeout(b),/complete|loaded|interactive/i.test(document.readyState)?a(d):document.addEventListener("DOMContentLoaded",function(){a(d)},!1),document.removeEventListener("runtimeready",c)};d.readyState||window.nuwa_runtime||window.lc_bridge?c():(b=setTimeout(c,2e5),document.addEventListener("runtimeready",c,!1))},d.api.layer=c.layer,d.api.layerGroup=c.layerGroup,d.api.core=c.core,["on","off","fire","once","postMessage"].forEach(function(a){d[a]=function(){c.layer[a].apply(c.layer,arguments)}}),b.extend(d,c.core),b.extend(d,{layerStopRefresh:c.layer.stopPullRefresh,layerBack:c.layer.back,layerStopLoading:c.layer.stopLoading,getLayerId:c.layer.getCurrentId,layerSetPullRefresh:c.layer.setPullRefresh});var f={};return d.layerInit=function(a,b){f[a]=b},d._lanch=function(a,b){f[a]&&f[a].call(d,b)},window.addEventListener("unload",function(){var a;for(a in e)e.hasOwnProperty(a)&&e[a].destroy&&e[a].destroy()}),d}),c("src/hybrid/Control",["require","../common/lib","./blend","./runtime"],function(a){function b(a){a=a||{},this.id||a.id||(this.id=c.getUniqueID()+1*new Date),this.main=a.main?a.main:this.initMain(a),this.initOptions(a),d.register(this),this.currentStates={},this._listener={}}var c=a("../common/lib"),d=a("./blend"),e=a("./runtime");return b.prototype={constructor:b,currentStates:null,_listener:null,getType:function(){return this.type||"control"},initOptions:function(a){a=a||{},this.setProperties(a)},initMain:function(){var a=document.createElement("div");return a.setAttribute("data-blend",this.getType()),a.setAttribute("data-blend-id",this.id),a},render:function(){return this.fire("beforerender"),this.main.id||(this.main.id=c.getUniqueID()),this.paint()?this.fire("afterrender"):this.fire("renderfailed"),this.main},paint:function(){},appendTo:function(a){this.main.appendChild(a)},dispose:function(){this.fire("beforedistory");try{e[this.type].destroy(this.id)}catch(a){console.log("runtime组件无destory方法")}this.fire("afterdistory")},destroy:function(){this.dispose(),d.cancel(this)},get:function(a){var b=this["get"+c.toPascal(a)];return"function"==typeof b?b.call(this):this[a]},set:function(a,b){var d=this["set"+c.toPascal(a)];if("function"==typeof d)return d.call(this,b);var e={};e[a]=b,this.setProperties(e)},setProperties:function(a){c.extend(this,a)},disable:function(){this.addState("disabled")},enable:function(){this.removeState("disabled")},isDisabled:function(){return this.hasState("disabled")},"in":function(){this.removeState("hidden"),this.fire("show")},out:function(){this.addState("hidden"),this.fire("hide")},toggle:function(){this[this.isHidden()?"in":"out"]()},isHidden:function(){return this.hasState("hidden")},addState:function(a){this.hasState(a)||(this.currentStates[a]=!0)},removeState:function(a){this.hasState(a)&&(this.currentStates[a]=!1)},toggleState:function(a){var b=this.hasState(a)?"removeState":"addState";this[b](a)},hasState:function(a){return!!this.currentStates[a]},on:function(a,b){var c=this;c._listener[a]||(c._listener[a]=[]),c._listener[a].push(b)},off:function(a,b){var c=this._listener[a];if(c){if(!b)return delete this._listener[a],void 0;c.splice(c.indexOf(b),1),c.length||delete this._listener[a]}},fire:function(a,b,c){var d,e,f=this._listener[a];if(!a)throw new Error("未指定事件名");if(c=c||this,f)for(d=0,e=f.length;e>d;d++)f[d].apply(c,b)}},b}),c("src/hybrid/Layer",["require","./blend","../common/lib","./runtime","./Control"],function(a){var b=a("./blend"),c=a("../common/lib"),d=a("./runtime"),e=a("./Control"),f=d.layer,g=function(a){var b=document.createElement("a");return b.href=a,b.href};b.ready(function(){try{f.on("in",function(a){var c=b.get(a.data);c&&c.onshow&&c.onshow()}),f.on("replace",function(a){var b=a.data;location.replace(b)})}catch(a){console.log(a.message)}});var h=function(a){return a=a||{},a.url&&(a.url=g(a.url)),e.call(this,a),this._init(a),this};return c.inherits(h,e),h.prototype.constructor=h,h.prototype._init=function(a){var b=this;if(!a.url&&!a.dom)throw new Error("Layer必须指定url或者dom内容");return this.originalUrl=a.url,this._initEvent(),this.render(),a.subLayer&&f.setLayout(b.id,{top:b.top,left:b.left,bottom:b.bottom,right:b.right,width:b.width,height:b.height}),a.active&&this.in(),this},h.prototype.type="layer",h.prototype.maxLoadingTime=800,h.prototype.autoStopLoading=!0,h.prototype.fixed=!1,h.prototype._initEvent=function(){var a=this,c=null;return a.ptrFn&&f.on("layerPullDown",function(){a.ptrFn.apply(a,arguments)},a.id,a),f.on("layerCreateSuccess",function(){a.autoStopLoading&&(c=setTimeout(function(){a.stopLoading()},a.maxLoadingTime)),b.ready(function(){a.pullToRefresh&&f.setPullRefresh(a.id,!0,{pullText:a.pullText,loadingText:a.loadingText,releaseText:a.releaseText,pullIcon:a.pullIcon})}),a.afterrender&&a.afterrender.apply(a,arguments)},a.id,a),f.on("layerLoadFinish",function(b){a.autoStopLoading||(c=setTimeout(function(){a.stopLoading()},a.maxLoadingTime)),a.autoStopLoading&&a.stopLoading(),b.url!==a.url&&(a.autoStopLoading&&a.stopLoading(),a.url=b.url,a.changeUrl&&a.changeUrl.call(a,b,a.url)),a.onload&&a.onload.apply(a,arguments)},a.id,a),f.on("layerPoped",function(){a.onhide&&a.onhide.apply(a,arguments),f.fire("out",!1,a.id)},a.id,a),a.on("afterdistory",function(){clearTimeout(c),a.ptrFn&&f.off("layerPullDown","all",a.id,a),f.off("layerCreateSuccess","all",a.id,a),f.off("layerLoadFinish","all",a.id,a),f.off("layerPoped","all",a.id,a)}),a},h.prototype.paint=function(){var a=this;return f.prepare(a.id,{url:a.url,dom:a.dom,backgroundColor:a.backgroundColor,reusable:a.reusable,loadingIcon:a.loadingIcon,subLayer:a.subLayer,fixed:a.fixed}),this},h.prototype.in=function(){var a=this;return e.prototype.in.apply(a,arguments),f.isAvailable(this.id)||a.render(),f.resume(a.id,{reverse:a.reverse,fx:a.fx,cover:a.cover,duration:a.duration,timingFn:a.timingFn}),this},h.prototype.out=function(a){return e.prototype.out.apply(this,arguments),this.subLayer?f.hideSubLayer(this.id):f.back(a),this},h.prototype.reload=function(a){return a&&(a=g(a),a!==this.url&&f.reload(this.id,a)),this},h.prototype.replace=function(a){return a=a?g(a):this.url,f.replaceUrl(this.id,a),this},h.prototype.stopPullRefresh=function(){return f.stopPullRefresh(this.id),this},h.prototype.stopLoading=function(){return f.stopLoading(this.id),this},h.prototype.getUrl=function(){return f.getUrl(this.id)},h.prototype.canGoBack=function(){return f.canGoBack(this.id)},h.prototype.clearHistory=function(){return f.clearHistory(this.id),this},h.prototype.isActive=function(){return f.isActive(this.id)},h.prototype.setLayout=function(a){var b=this;return["top","left","width","height"].forEach(function(c){a[c]?b[c]=a[c]:a[c]=b[c]}),f.setLayout(this.id,a)},h.prototype.destroy=function(){return e.prototype.destroy.apply(this,arguments),this},h.addSidebar=function(a,b){b||(b=a,a=f.getCurrentId()),b.sliderLayer=!0,f.prepare(a,b)},h.showSidebar=function(a){a=a||f.getCurrentId(),f.showSlider(a)},h.hideSidebar=function(a){a=a||f.getCurrentId(),f.hideSlider(a)},h.destorySidebar=function(a){a=a||f.getCurrentId(),f.destroySlider(a,options)},h}),c("src/hybrid/LayerGroup",["require","../common/lib","./runtime","./Control"],function(a){var b=a("../common/lib"),c=a("./runtime"),d=a("./Control"),e=c.layerGroup,f=c.layer,g=function(a){d.call(this,a),this.layerId=f.getCurrentId(),this._init(a)};return b.inherits(g,d),g.prototype.constructor=g,g.prototype.type="layerGroup",g.prototype.scrollEnabled=!0,g.prototype.top=0,g.prototype.left=0,g.prototype.width=window.innerWidth,g.prototype.height=window.innerHeight,g.prototype._init=function(){var a=this,c={},d=null;if(a.layers&&a.layers.length){for(var e=0,f=a.layers.length;f>e;e++)a.layers[e].id||(a.layers[e].id=b.getUniqueID()),a.layers[e].active&&(d=a.layers[e].id),c[a.layers[e].id]=a.layers[e];return a._layers=c,a.activeId=d||a.layers[0].id,a._initEvent(),a.render(),this}},g.prototype._initEvent=function(){var a=this,b=a.layers.length,c=function(c){if(c.groupId===a.id){if(a.activeId===a.layers[0].id&&c.layerId===a.layers[0].id)return;if(a.activeId===a.layers[b-1].id&&c.layerId===a.layers[b-1].id)return;c.detail=c.layerId,a.onshow&&a.onshow.call(a,c),a.onselected&&a.onselected.call(a,c),a._layers[c.layerId].onshow&&a._layers[c.layerId].onshow.call(a),a.activeId!==c.layerId&&a._layers[a.activeId].onhide&&a._layers[a.activeId].onhide.call(a),a.activeId=c.layerId}};document.addEventListener("groupSelected",c,!1),document.addEventListener("layerLoadFinish",function(b){var c=a._layers[b.origin];c&&c.onload&&c.onload&&c.onload.call(a),c&&c.pullToRefresh&&f.setPullRefresh(c.id,!0,{pullText:c.pullText,loadingText:c.loadingText,releaseText:c.releaseText,pullIcon:c.pullIcon,pullBgColor:c.pullBgColor}),c.state="loaded"},!1)},g.prototype.getLayerValueById=function(a){return this._layer[a]},g.prototype.paint=function(){var a=this,b={left:a.left,top:a.top,width:a.width,height:a.height,scrollEnabled:a.scrollEnabled,active:a.activeId};return e.create(a.id,a.layers,b),this},g.prototype.active=function(a){return e.showLayer(this.id,a),this},g.prototype.remove=function(a){return e.removeLayer(this.id,a),delete this._layers[a],this},g.prototype.add=function(a){return a.id||(a.id=b.getUniqueID()),e.addLayer(this.id,a),this._layers[a.id]=a,this},g.prototype.update=function(a,c){return e.updateLayer(this.id,a,c),b.extend(this._layers[c.id],c),this},g.prototype.destroy=function(){e.removeLayerGroup(this.id),d.prototype.destroy.apply(this,arguments)},g.prototype.isScroll=function(){return e.isScroll(this.layerId,this.id)},g.prototype.setScroll=function(a){e.setScroll(this.layerId,this.id,a)},g.prototype.toggleScroll=function(){e.toggleScroll(this.layerId,this.id)},g.prototype.hide=function(){e.hideLayerGroup(this.id)},g.prototype.show=function(){e.showLayerGroup(this.id)},g.prototype.setLayout=function(a){var b=this;["top","left","width","height"].forEach(function(c){a[c]?b[c]=a[c]:a[c]=b[c]}),e.layerGroupSetLayout(this.id,a)},g}),c("src/hybrid/Slider",["require","../common/lib","./runtime","./Control"],function(a){var b=a("../common/lib"),c=a("./runtime"),d=a("./Control"),e=c.component.slider,f=function(a){return d.call(this,a),this._init(a),this};return b.inherits(f,d),f.prototype.constructor=f,f.prototype._init=function(){return this._initEvent(),this.render(),this},f.prototype.type="slider",f.prototype._initEvent=function(){var a=this;return e.on("sliderTap",function(){a.tap&&a.tap.apply(a,arguments),a.fire("sliderTap",arguments,a)},a.id,a),e.on("sliderSlide",function(){a.slide&&a.slide.apply(a,arguments),a.fire("sliderSlide",arguments,a)},a.id,a),a.on("afterdistory",function(){e.off("tap","all",a.id,a),e.off("slide","all",a.id,a)}),window.addEventListener("unload",function(){a.destroy()}),a},f.prototype.paint=function(){var a=this;return e.add(a.id,{top:a.top,left:a.left,width:a.width,height:a.height,fixed:a.fixed}),e.addItems(a.id,{images:a.images}),a.bgColor&&e.setConfig(a.id,{backgroundColor:a.bgColor}),a.hasIndicator&&e.setupIndicator(a.id,{activeColor:a.activeColor,inactiveColor:a.inactiveColor,unitSize:a.unitSize,unitSpace:a.unitSpace,verticalMargin:a.verticalMargin}),this},f.prototype.prev=function(){e.prev(this.id)},f.prototype.next=function(){e.next(this.id)},f.prototype.slideTo=function(a){e.slideTo(this.id,a,!0)},f.prototype.destroy=function(){e.remove(this.id),d.prototype.destroy.apply(this,arguments)},f}),c("src/hybrid/Footbar",["require","../common/lib","./runtime","./Control"],function(a){var b=a("../common/lib"),c=a("./runtime"),d=a("./Control"),e=c.component.footbar,f=function(a){return d.call(this,a),this._init(a),this};return b.inherits(f,d),f.prototype.constructor=f,f.prototype._init=function(){return this._initEvent(),this.render(),this},f.prototype.type="footbar",f.prototype._initEvent=function(){var a=this;return e.on("toolbarMenuSelected",function(){a.selected&&a.selected.apply(a,arguments),a.fire("selected",arguments,a)},a.id,a),a.on("afterdistory",function(){e.off("toolbarMenuSelected","all",a.id,a)}),window.addEventListener("unload",function(){a.destroy()}),a},f.prototype.paint=function(){var a=this;return e.add(a.id,{top:a.top,left:a.left,width:a.width,height:a.height,fixed:a.fixed}),e.setMenu(a.id,{menus:a.menus}),this},f.prototype.updataMenu=function(a){e.updateMenu(this.id,{menus:a})},f.prototype.show=function(){e.show(this.id)},f.prototype.hide=function(){e.hide(this.id)},f.prototype.destroy=function(){e.remove(this.id),d.prototype.destroy.apply(this,arguments)},f}),c("src/hybrid/CascadingMenu",["require","../common/lib","./runtime","./Control"],function(a){var b=a("../common/lib"),c=a("./runtime"),d=a("./Control"),e=c.component.cascadingMenu,f=function(a){return d.call(this,a),this._init(a),this};return b.inherits(f,d),f.prototype.constructor=f,f.prototype._init=function(){return this._initEvent(),this.render(),this},f.prototype.type="cascadingMenu",f.prototype._initEvent=function(){var a=this;return e.on("cascadingMenuSelected",function(){a.selected&&a.selected.apply(a,arguments),a.fire("selected",arguments,a)},a.id,a),a.on("afterdistory",function(){e.off("cascadingMenuSelected","all",a.id,a)}),window.addEventListener("unload",function(){a.destroy()}),a},f.prototype.paint=function(){var a=this;return e.add(a.id,{top:a.top,left:a.left,width:a.width,height:a.height,fixed:a.fixed}),e.setMenu(a.id,{menus:a.menus}),this},f.prototype.show=function(){e.show(this.id)},f.prototype.hide=function(){e.hide(this.id)},f.prototype.selectItem=function(a){e.setItemSelected(this.id,{menus:[a]})},f.prototype.destroy=function(){d.prototype.destroy.apply(this,arguments)},f}),b(["src/hybrid/blend","src/hybrid/Layer","src/hybrid/LayerGroup","src/hybrid/Slider","src/hybrid/Footbar","src/hybrid/CascadingMenu"],function(a,b,c,d,e,f){a=a||{},a.Layer=b,a.LayerGroup=c,a.Slider=d,a.Footbar=e,a.CascadingMenu=f,window.Blend=window.Blend||{},window.Blend.ui=a,window.console&&window.console.log("====BlendUI Ok======");var g;window.CustomEvent?g=new window.CustomEvent("blendready",{bubbles:!1,cancelable:!1}):(g=document.createEvent("Event"),g.initEvent("blendready",!1,!1)),a.ready(function(){document.dispatchEvent(g),a._lanch(a.getLayerId(),document.querySelector("body"))})},null,!0),c("src/hybrid/main",function(){})}();